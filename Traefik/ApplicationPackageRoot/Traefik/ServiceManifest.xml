<?xml version="1.0" encoding="utf-8"?>
<ServiceManifest Name="Traefik" Version="1.0.0" xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <ServiceTypes>
        <StatelessServiceType ServiceTypeName="Traefik" UseImplicitHost="true" />
    </ServiceTypes>
    <CodePackage Name="Code" Version="1.0.0">
        <EntryPoint>
            <ExeHost>
                <Program>traefik.bat</Program>
                <WorkingFolder>CodePackage</WorkingFolder>
                <ConsoleRedirection FileMaxSizeInKb="65535" FileRetentionCount="2" />
            </ExeHost>
        </EntryPoint>
        <EnvironmentVariables>
            <EnvironmentVariable Name="ClusterManagementUrl" Value="http://localhost:19181" />
            <EnvironmentVariable Name="GraceTimeout" Value="0s" />
            <EnvironmentVariable Name="ProvidersThrottleDuration" Value="2s" />
            <EnvironmentVariable Name="MaxIdleConnsPerHost" Value="200" />
            <EnvironmentVariable Name="RequestAcceptGraceTimeout" Value="10s" />
            <EnvironmentVariable Name="ReadTimeout" Value="0s" />
            <EnvironmentVariable Name="WriteTimeout" Value="0s" />
            <EnvironmentVariable Name="IdleTimeout" Value="180s" />
            <EnvironmentVariable Name="DialTimeout" Value="30s" />
            <EnvironmentVariable Name="ResponseHeaderTimeout" Value="0s" />
        </EnvironmentVariables>
    </CodePackage>
    <ConfigPackage Name="Config" Version="1.0.0" />
    <Resources>
        <Endpoints>
            <Endpoint Name="TraefikEndpoint" UriScheme="http" Port="19180" />
            <Endpoint Name="TraefikApiEndpoint" UriScheme="http" Port="19188" />
        </Endpoints>
    </Resources>
</ServiceManifest>